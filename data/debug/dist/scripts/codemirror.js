"use strict";window.editor=CodeMirror.fromTextArea(document.getElementById("message"),{mode:{name:"javascript",json:!0},lineNumbers:!0,theme:"default",viewportMargin:1/0});const validationIndicator=document.createElement("div");function validateJSON(){const e=window.editor.getValue(),t=document.getElementById("json-validation");if(""!==e.trim())try{JSON.parse(e),t.innerHTML="",t.style.display="block",window.editor.getWrapperElement().style.borderColor=""}catch(e){t.innerHTML='<span class="text-danger">âœ— Invalid JSON: '+e.message+"</span>",t.style.display="block",window.editor.getWrapperElement().style.borderColor="#dc3545"}else t.style.display="none"}validationIndicator.id="json-validation",validationIndicator.className="mt-2 small",validationIndicator.style.display="none",document.querySelector("#message").parentNode.appendChild(validationIndicator),window.editor.on("change",function(){clearTimeout(window.jsonValidationTimeout),window.jsonValidationTimeout=setTimeout(validateJSON,500)}),setTimeout(validateJSON,100);